<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <title>Pet Food Calculator</title>

    <style>
        .pfc-container {
            max-width: 320px;
            border: solid 1px black;
        }
    </style>
</head>
<body class="h-100 w-100">

<div class="pfc-container">
    <!-- CALC INPUT -->
    <div class="p-3" style="background-color: #eee;">
        <form id="pfcInForm" autocomplete="off">
            <!-- WEIGHT -->
            <label for="pfcInWeight" class="form-label h5">How much does your pet weight?</label>
            <div class="input-group has-validation mb-1">
                <input type="text" class="form-control" id="pfcInWeight" placeholder="Ex: 100.00">
                <select class="form-select" id="pfcInUnit" style="max-width: 80px" aria-label="Unit of measure">
                    <option value="Lbs">Lbs</option>
                    <option value="Kg">Kg</option>
                </select>
                <div id="validationServerUsernameFeedback" class="invalid-feedback">
                    Please enter only numbers.
                </div>
            </div>

            <hr />

            <h5 class="mb-2">How do you feel about your pet's weight?</h5>

            <!-- WEIGHT TYPE -->
            <div class="form-check">
                <input class="form-check-input" type="radio" name="pfcInWeightType" id="pfcInWeightOver">
                <label class="form-check-label" for="pfcInWeightOver">
                    Overweight
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="pfcInWeightType" id="pfcInWeightUnder">
                <label class="form-check-label" for="pfcInWeightUnder">
                    Underweight
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="pfcInWeightType" id="pfcInWeightIdeal" checked>
                <label class="form-check-label" for="pfcInWeightIdeal">
                    Ideal
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="pfcInWeightType" id="pfcInWeightIdealActive">
                <label class="form-check-label" for="pfcInWeightIdealActive">
                    Ideal and very active
                </label>
            </div>

            <hr />

            <h5 class="mb-2">How often do you feed your pet?</h5>

            <!-- FEEDING FREQUENCY -->
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="pfcInFrequency" id="pfcInFreq1" value="1">
                <label class="form-check-label" for="pfcInFreq1">1x Day</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="pfcInFrequency" id="pfcInFreq2" value="2" checked>
                <label class="form-check-label" for="pfcInFreq2">2x Day</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="pfcInFrequency" id="pfcInFreq3" value="3">
                <label class="form-check-label" for="pfcInFreq3">3x Day</label>
            </div>

            <div class="d-grid gap-2 mt-3">
                <button type="submit" class="btn btn-dark">Calculate</button>
            </div>
        </form>
    </div>

    <!-- CALC OUTPUT -->
    <div class="p-3" style="background-color: #eee;">
        <div class="row row-cols-2">
            <div class="col h6">PET WEIGHT:</div>
            <div class="col text-end" id="pfcOutWeight"></div>

            <div class="col h6">WEIGHT IS:</div>
            <div class="col text-end text-uppercase" id="pfcOutWeightType"></div>

            <div class="col h6">FEEDING:</div>
            <div class="col text-end" id="pfcOutFrequency"></div>
        </div>

        <div class="row row-cols-2 border rounded p-2 mx-1 my-3" style="background-color: #bed62f;">
            <div class="col my-auto">
                <span class="h6">DAILY FEED:</span>
            </div>
            <div class="col text-end my-auto" id="pfcOutFeedDay"></div>

            <div class="col my-auto">
                <span class="h6">EACH FEED:</span>
            </div>
            <div class="col text-end" id="pfcOutFeed"></div>
        </div>

        <div class="d-grid gap-2 mt-3">
            <button type="button" class="btn btn-dark" id="pfcBtnReset">Reset</button>
        </div>
    </div>
</div>

<script>
    // INPUT
    const pfcForm = document.getElementById('pfcInForm');
    const pfcInWeight = document.getElementById('pfcInWeight');
    const pfcInUnit = document.getElementById('pfcInUnit');
    const pfcInWeightOver = document.getElementById('pfcInWeightOver');
    const pfcInWeightUnder = document.getElementById('pfcInWeightUnder');
    const pfcInWeightIdeal = document.getElementById('pfcInWeightIdeal');
    const pfcInWeightIdealActive = document.getElementById('pfcInWeightIdealActive');
    const pfcInFreq1 = document.getElementById('pfcInFreq1');
    const pfcInFreq2 = document.getElementById('pfcInFreq2');
    const pfcInFreq3 = document.getElementById('pfcInFreq3');
    // OUTPUT
    const pfcOutWeight = document.getElementById('pfcOutWeight');
    const pfcOutWeightType = document.getElementById('pfcOutWeightType');
    const pfcOutFrequency = document.getElementById('pfcOutFrequency');
    const pfcOutFeedDay = document.getElementById('pfcOutFeedDay');
    const pfcOutFeed = document.getElementById('pfcOutFeed');
    // BUTTONS
    const pfcBtnReset = document.getElementById('pfcBtnReset');

    function pfcRemoveError () {
        pfcInWeight.classList.remove('is-invalid');
        pfcInWeight.removeEventListener('keypress', pfcRemoveError);
    }

    function pfcReset() {
        pfcForm.reset();
        pfcResetResults();
        pfcInWeight.focus();
    }

    function pfcResetResults() {
        pfcOutWeight.textContent = '';
        pfcOutWeightType.textContent = '';
        pfcOutFrequency.textContent = '';
        pfcOutFeedDay.textContent = '';
        pfcOutFeed.textContent = '';
    }

    function pfcCalculate(event) {
        event.preventDefault();
        event.stopPropagation();

        pfcResetResults();

        if (!pfcInWeight.value || isNaN(pfcInWeight.value)) {
            pfcInWeight.focus();
            pfcInWeight.classList.add('is-invalid');
            pfcInWeight.addEventListener('keypress', pfcRemoveError);
        } else {
            const weight = Number(pfcInWeight.value);
            const unit = pfcInUnit.value;

            pfcOutWeight.textContent = `${weight.toFixed(2)} ${unit}`;

            if (pfcInWeightOver.checked) {
                pfcOutWeightType.textContent = 'Overweight';
            } else if (pfcInWeightUnder.checked) {
                pfcOutWeightType.textContent = 'Underweight';
            } else if (pfcInWeightIdeal.checked) {
                pfcOutWeightType.textContent = 'Ideal';
            } else if (pfcInWeightIdealActive.checked) {
                pfcOutWeightType.textContent = 'Ideal Active';
            } else {
                pfcOutWeightType.textContent = 'ERR';
            }

            if (pfcInFreq1.checked) {
                pfcOutFrequency.textContent = 'ONCE A DAY';
            } else if (pfcInFreq2.checked) {
                pfcOutFrequency.textContent = 'TWICE A DAY';
            } else if (pfcInFreq3.checked) {
                pfcOutFrequency.textContent = 'x3 A DAY';
            } else {
                pfcOutFrequency.textContent = 'ERR';
            }

            let feedDay;

            if (pfcInWeightOver.checked) {
                feedDay = weight * 0.015;
            } else if (pfcInWeightUnder.checked) {
                feedDay = weight * 0.03;
            } else if (pfcInWeightIdeal.checked) {
                feedDay = weight * 0.02;
            } else if (pfcInWeightIdealActive.checked) {
                feedDay = weight * 0.035;
            } else {
                feedDay = 0;
            }

            pfcOutFeedDay.textContent = `${feedDay.toFixed(2)} ${unit}`;

            if (pfcInFreq1.checked) {
                pfcOutFeed.textContent = `${feedDay.toFixed(2)} ${unit}`;
            } else if (pfcInFreq2.checked) {
                pfcOutFeed.textContent = `${(feedDay / 2).toFixed(2)} ${unit}`;
            } else if (pfcInFreq3.checked) {
                pfcOutFeed.textContent = `${(feedDay / 3).toFixed(2)} ${unit}`;
            } else {
                pfcOutFrequency.textContent = 'ERR';
            }
        }
    }

    pfcForm.addEventListener('submit', pfcCalculate);
    pfcBtnReset.addEventListener('click', pfcReset);
</script>

</body>
</html>
